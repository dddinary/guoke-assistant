<view class="main-wrapper">
<cu-custom bgColor="bg-gradual-green" isBack="{{true}}">
    <view slot="backText">返回</view>
    <view slot="content">{{user.name}}</view>
</cu-custom>
<view class="head-container bg-gradual-green flex justify-center padding-bottom-xs align-center">
    <view class="text-lg">{{user.dpt}}</view>
    <view class="margin-left" wx:if="{{me.id==1}}">{{user.status==1?'已封禁':'未封禁'}}</view>
    <view class="margin-left border bg-blue" catchtap="clickBlock" wx:if="{{me.id==1 && user.status==0}}">封禁</view>
    <view class="margin-left border bg-blue" catchtap="clickUnblock" wx:if="{{me.id==1 && user.status==1}}">解封</view>
</view>

<scroll-view
  scroll-y style="width: 100%; height: {{bodyHeight}}px;"
  enable-back-to-top="{{true}}"
  refresher-enabled="{{true}}"
  refresher-threshold="{{100}}"
  refresher-default-style="white"
  refresher-background="grey"
  refresher-triggered="{{triggered}}"
  bindrefresherpulling="onPulling"
  bindrefresherrefresh="onRefresh"
  bindrefresherrestore="onRestore"
  bindrefresherabort="onAbort"
  bindscrolltolower="onReachBottom"
  bindscroll="onScroll"
>
  <view class="cu-card dynamic">
    <post-card class="cu-item shadow" wx:for="{{postIdList}}" wx:key="index" bindtap="goPost" data-pid="{{item}}" 
        post="{{posts[item]}}" author="{{students[posts[item].uid]}}" showShare="{{false}}" curTab="" 
        bind:tapComment="goPost" bind:goLogin="goLogin" bind:delPost="delPost">
    </post-card>
  </view>
</scroll-view>
</view>
<i-divider wx:if="{{noMore}}" content="加载已经完成,没有其他数据"></i-divider>